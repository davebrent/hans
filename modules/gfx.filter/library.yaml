---
name: libhans.gfx.filter
strings:
  LIBHANS_FILTER_ARG_SHADER: shader
  LIBHANS_FILTER_VERT_SHADER: filter-vert-quad
  LIBHANS_FILTER_GREYSCALE_SHADER: greyscale
  LIBHANS_FILTER_HALFTONE_SHADER: halftone
  LIBHANS_FILTER_PIXELATE_SHADER: pixelate
  LIBHANS_FILTER_RGBSPLIT_SHADER: rgbsplit
  LIBHANS_FILTER_ZOOMBLUR_SHADER: zoomblur
  LIBHANS_FILTER_PASSTHROUGH_SHADER: passthrough
  LIBHANS_FILTER_DOTSCREEN_SHADER: dotscreen
  LIBHANS_FILTER_CGADISPLAY_SHADER: cgadisplay
  LIBHANS_FILTER_SOBEL_SHADER: sobel
  LIBHANS_FILTER_INVERT_SHADER: invert
  LIBHANS_FILTER_SEPIA_SHADER: sepia
  LIBHANS_FILTER_GAMMA_SHADER: gamma
  LIBHANS_FILTER_ARG_NAME: name
objects:
  gfx.filter:
    type: graphics

    frame_buffer:
      stencil_buffer: true

      attachments:
        - type: color
          help: Output color buffer
          width: 1184
          height: 640
          components: 4

    resources:
      - uri: filter-vert-quad
        type: shader
        shader_type: vertex
        path: ./shaders/quad.vert

      - uri: gamma
        type: shader
        shader_type: fragment
        path: ./shaders/gamma.frag

      - uri: sepia
        type: shader
        shader_type: fragment
        path: ./shaders/sepia.frag

      - uri: invert
        type: shader
        shader_type: fragment
        path: ./shaders/invert.frag

      - uri: sobel
        type: shader
        shader_type: fragment
        path: ./shaders/sobel.frag

      - uri: cgadisplay
        type: shader
        shader_type: fragment
        path: ./shaders/cgadisplay.frag

      - uri: dotscreen
        type: shader
        shader_type: fragment
        path: ./shaders/dotscreen.frag

      - uri: greyscale
        type: shader
        shader_type: fragment
        path: ./shaders/greyscale.frag

      - uri: halftone
        type: shader
        shader_type: fragment
        path: ./shaders/halftone.frag

      - uri: pixelate
        type: shader
        shader_type: fragment
        path: ./shaders/pixelate.frag

      - uri: rgbsplit
        type: shader
        shader_type: fragment
        path: ./shaders/rgbsplit.frag

      - uri: zoomblur
        type: shader
        shader_type: fragment
        path: ./shaders/zoomblur.frag

      - uri: passthrough
        type: shader
        shader_type: fragment
        path: ./shaders/passthrough.frag

    parameters:
      - name: filter_amount
        size: 1
        defaults: [0.5]
        help: The amount of filter apply
